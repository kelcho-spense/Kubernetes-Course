# Kubernetes Architecture

1. **Master Node (Control Plane)**:
   ![image_4.png](image_4.png)
    - The Master Node is also referred to as the Control Plane.
    - It is responsible for managing the overall state of the Kubernetes cluster.
    - The Control Plane manages the scheduling, scaling, and networking for the worker nodes.
    - Key components of the Control Plane include the API Server, Controller Manager, Scheduler, and etcd.

2. **Master node Components** :
   ![image_8.png](image_8.png)

   1. **API Server**:
       - The API Server is the entry point to the Kubernetes cluster. It serves as the interface for all communication between the user (via UI, API, or CLI) and the Kubernetes Control Plane.
       - It processes RESTful calls, validates them, and executes the requested operations on the cluster.
       - It also serves as a gatekeeper for all administrative tasks within the cluster.

   2. **Controller Manager**:
       - The Controller Manager is responsible for managing the state of the cluster.
       - It continuously monitors the state of various resources in the cluster (like deployments, nodes, etc.) and ensures that the cluster's current state matches the desired state as defined by the user.
       - For instance, if a node goes down, the Controller Manager will work to bring the cluster back to the desired state by possibly reallocating pods or adding a new node.

   3. **Scheduler**:
       - The Scheduler is responsible for ensuring that Pods (the smallest deployable units in Kubernetes, typically running one or more containers) are assigned to suitable nodes.
       - It considers factors like resource availability (CPU, memory), policies, and affinity/anti-affinity rules to make optimal decisions on where each pod should run.

   4. **etcd**:
       - etcd is the backing store for all cluster data.
       - It is a consistent and highly-available key-value store that holds the state and configuration of the cluster.
       - Every change made to the cluster's state (like adding a new node, creating a new pod, etc.) is recorded in etcd.
       - This ensures that Kubernetes can recover from failures and that the state of the cluster is always reliably maintained.
   
3. **Worker Nodes**:
   ![image_5.png](image_5.png)
    - Worker Nodes are also simply referred to as "Nodes."
    - These are virtual or physical machines that run containerized applications managed by the Master Node.
    - Each Worker Node runs a Kubelet, which is the primary "node agent" that ensures the containers are running as expected.

4. **Kubelet Process**:
   ![image_6.png](image_6.png)
    - Kubelet is the primary agent running on each Worker Node.
    - It communicates with the Control Plane to ensure that the containers are running as per the desired state defined in the Kubernetes manifest files.

5. **Containers on Worker Nodes**:
   ![image_7.png](image_7.png)
    - Each Worker Node runs multiple containers, which are managed by Kubernetes.
    - The containers are lightweight and isolated instances that package the application code along with its dependencies.

6. **Virtual Network**:
   ![image_9.png](image_9.png)
    - Kubernetes creates a virtual network across all nodes in the cluster.
    - This network allows containers running on different nodes to communicate with each other as if they were on the same machine.

7. **Master Nodes vs Worker Nodes**:
   ![image_10.png](image_10.png)
    - Master Nodes (Control Plane Nodes) are responsible for managing the overall cluster and have a handful of master processes running.
    - Worker Nodes have a higher workload as they are responsible for running the actual containerized applications.
    - Worker Nodes are typically much bigger and have more resources compared to Master Nodes.

